function _extendableBuiltin(e){function t(){var t=Reflect.construct(e,Array.from(arguments));return Object.setPrototypeOf(t,Object.getPrototypeOf(this)),t}return t.prototype=Object.create(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e,t}(function(e,t){'object'==typeof exports&&'object'==typeof module?module.exports=t():'function'==typeof define&&define.amd?define([],t):'object'==typeof exports?exports.Pts=t():e.Pts=t()})(this,function(){var e=Math.pow,t=Number.MAX_VALUE,n=Math.sqrt,o=Math.PI,a=Math.floor,i=Math.atan2,u=Math.max,l=Math.sin,r=Math.cos,_=Math.min,s=Math.abs;return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(n,'a',n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='',t(t.s=11)}([function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(1),d=n(3),p=n(2);t.PtBaseArray=Float32Array;class c extends t.PtBaseArray{constructor(...e){1===e.length&&'number'==typeof e[0]?super(e[0]):super(0<e.length?o.Util.getArgs(e):[0,0])}static make(e,n=0,o=!1){let a=new t.PtBaseArray(e);if(n&&a.fill(n),o)for(let e=0,t=a.length;e<t;e++)a[e]*=Math.random();return new c(a)}get id(){return this._id}set id(e){this._id=e}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(e){this[0]=e}set y(e){this[1]=e}set z(e){this[2]=e}set w(e){this[3]=e}clone(){return new c(this)}equals(e,t=1e-6){for(let n=0,o=this.length;n<o;n++)if(s(this[n]-e[n])>t)return!1;return!0}to(...e){let t=o.Util.getArgs(e);for(let n=0,o=_(this.length,t.length);n<o;n++)this[n]=t[n];return this}$to(...e){return this.clone().to(...e)}toAngle(e,t,n=!1){let o=t==void 0?this.magnitude():t,i=[r(e)*o,l(e)*o];return n?this.add(i):this.to(i)}op(e){let t=this;return(...n)=>{return e(t,...n)}}ops(e){let t=[];for(let n=0,o=e.length;n<o;n++)t.push(this.op(e[n]));return t}$take(e){let t=[];for(let n=0,o=e.length;n<o;n++)t.push(this[e[n]]||0);return new c(t)}$concat(...e){return new c(this.toArray().concat(o.Util.getArgs(e)))}add(...e){return 1===e.length&&'number'==typeof e[0]?p.Vec.add(this,e[0]):p.Vec.add(this,o.Util.getArgs(e)),this}$add(...e){return this.clone().add(...e)}subtract(...e){return 1===e.length&&'number'==typeof e[0]?p.Vec.subtract(this,e[0]):p.Vec.subtract(this,o.Util.getArgs(e)),this}$subtract(...e){return this.clone().subtract(...e)}multiply(...e){return 1===e.length&&'number'==typeof e[0]?p.Vec.multiply(this,e[0]):p.Vec.multiply(this,o.Util.getArgs(e)),this}$multiply(...e){return this.clone().multiply(...e)}divide(...e){return 1===e.length&&'number'==typeof e[0]?p.Vec.divide(this,e[0]):p.Vec.divide(this,o.Util.getArgs(e)),this}$divide(...e){return this.clone().divide(...e)}magnitudeSq(){return p.Vec.dot(this,this)}magnitude(){return p.Vec.magnitude(this)}unit(e=void 0){return p.Vec.unit(this,e),this}$unit(e=void 0){return this.clone().unit(e)}dot(...e){return p.Vec.dot(this,o.Util.getArgs(e))}$cross(...e){return p.Vec.cross(this,o.Util.getArgs(e))}$project(e){let t=e.magnitude(),n=this.$unit(),o=e.$divide(t),i=n.dot(o);return n.multiply(t*i)}abs(){return p.Vec.abs(this),this}$abs(){return this.clone().abs()}floor(){return p.Vec.floor(this),this}$floor(){return this.clone().floor()}ceil(){return p.Vec.ceil(this),this}$ceil(){return this.clone().ceil()}round(){return p.Vec.round(this),this}$round(){return this.clone().round()}minValue(){return p.Vec.min(this)}maxValue(){return p.Vec.max(this)}$min(...e){let t=o.Util.getArgs(e),n=this.clone();for(let o=0,i=_(this.length,t.length);o<i;o++)n[o]=_(this[o],t[o]);return n}$max(...e){let t=o.Util.getArgs(e),n=this.clone();for(let o=0,i=_(this.length,t.length);o<i;o++)n[o]=u(this[o],t[o]);return n}angle(e=o.Const.xy){return i(this[e[1]],this[e[0]])}angleBetween(e,t=o.Const.xy){return d.Geom.boundRadian(this.angle(t))-d.Geom.boundRadian(e.angle(t))}scale(e,t){return d.Geom.scale(this,e,t||c.make(this.length,0)),this}rotate2D(e,t,n){return d.Geom.rotate2D(this,e,t||c.make(this.length,0),n),this}shear2D(e,t,n){return d.Geom.shear2D(this,e,t||c.make(this.length,0),n),this}reflect2D(e,t){return d.Geom.reflect2D(this,e,t),this}toString(){return`Pt(${this.join(', ')})`}toArray(){return[].slice.call(this)}}t.Pt=c;class h extends _extendableBuiltin(Array){constructor(...e){super(...e)}get id(){return this._id}set id(e){this._id=e}get p1(){return this[0]}get p2(){return this[1]}get p3(){return this[2]}get p4(){return this[3]}get q1(){return this[this.length-1]}get q2(){return this[this.length-2]}get q3(){return this[this.length-3]}get q4(){return this[this.length-4]}clone(){let e=new h;for(let t=0,n=this.length;t<n;t++)e.push(this[t].clone());return e}static fromArray(e){let t=new h;for(let n,o=0,i=e.length;o<i;o++)n=e[o]instanceof c?e[o]:new c(e[o]),t.push(n);return t}static fromPtArray(e){return h.from(e)}split(e,t,n=!1){let i=o.Util.split(this,e,t,n);return i}insert(e,t=0){return h.prototype.splice.apply(this,[t,0,...e]),this}remove(e=0,t=1){let n=0>e?[-1*e-1,t]:[e,t];return h.prototype.splice.apply(this,n)}segments(e=2,t=1,n=!1){return this.split(e,t,n)}lines(){return this.segments(2,1)}centroid(){return d.Geom.centroid(this)}boundingBox(){return d.Geom.boundingBox(this)}anchorTo(e=0){d.Geom.anchor(this,e,'to')}anchorFrom(e=0){d.Geom.anchor(this,e,'from')}op(e){let t=this;return(...n)=>{return e(t,...n)}}ops(e){let t=[];for(let n=0,o=e.length;n<o;n++)t.push(this.op(e[n]));return t}interpolate(e){e=d.Num.clamp(e,0,1);let t=this.length-1,n=1/(this.length-1),o=a(e/n);return d.Geom.interpolate(this[o],this[_(this.length-1,o+1)],(e-o*n)*t)}moveBy(...e){return this.add(...e)}moveTo(...e){let t=new c(o.Util.getArgs(e)).subtract(this[0]);return this.moveBy(t),this}scale(e,t){for(let n=0,o=this.length;n<o;n++)d.Geom.scale(this[n],e,t||this[0]);return this}rotate2D(e,t,n){for(let o=0,i=this.length;o<i;o++)d.Geom.rotate2D(this[o],e,t||this[0],n);return this}shear2D(e,t,n){for(let o=0,i=this.length;o<i;o++)d.Geom.shear2D(this[o],e,t||this[0],n);return this}reflect2D(e,t){for(let n=0,o=this.length;n<o;n++)d.Geom.reflect2D(this[n],e,t);return this}sortByDimension(e,t=!1){return this.sort((n,o)=>t?o[e]-n[e]:n[e]-o[e])}forEachPt(e,...t){if(!this[0][e])return o.Util.warn(`${e} is not a function of Pt`),this;for(let n=0,o=this.length;n<o;n++)this[n]=this[n][e](...t);return this}add(...e){return this.forEachPt('add',...e)}subtract(...e){return this.forEachPt('subtract',...e)}multiply(...e){return this.forEachPt('multiply',...e)}divide(...e){return this.forEachPt('divide',...e)}$matrixAdd(e){return p.Mat.add(this,e)}$matrixMultiply(e,t=!1,n=!1){return p.Mat.multiply(this,e,t,n)}zipSlice(e,t=!1){return p.Mat.zipSlice(this,e,t)}$zip(e=void 0,t=!1){return p.Mat.zip(this,e,t)}toString(){return'Group[ '+this.reduce((e,t)=>e+t.toString()+' ','')+' ]'}}t.Group=h},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const i=n(0);t.Const={xy:'xy',yz:'yz',xz:'xz',xyz:'xyz',horizontal:0,vertical:1,identical:0,right:4,bottom_right:5,bottom:6,bottom_left:7,left:8,top_left:1,top:2,top_right:3,epsilon:1e-4,pi:o,two_pi:6.283185307179586,half_pi:1.5707963267948966,quarter_pi:0.7853981633974483,one_degree:0.017453292519943295,rad_to_deg:57.29577951308232,deg_to_rad:0.017453292519943295,gravity:9.81,newton:0.10197,gaussian:0.3989422804014327};class l{static getArgs(e){if(1>e.length)return[];let t=[],n=Array.isArray(e[0])||ArrayBuffer.isView(e[0]);if('number'==typeof e[0])t=Array.prototype.slice.call(e);else if('object'==typeof e[0]&&!n){let n=['x','y','z','w'],o=e[0];for(let e=0;e<n.length&&!(o.length&&e>=o.length||!(n[e]in o));e++)t.push(o[n[e]])}else n&&(t=[].slice.call(e[0]));return t}static warn(e='error',t=void 0){if('error'==l.warnLevel)throw new Error(e);else'warn'==l.warnLevel&&console.warn(e);return t}static randomInt(e,t=0){return a(Math.random()*e)+t}static split(e,t,n,o=!1){let a=n||t,l=[];for(let r=0;r<e.length;r++)if(!(r*a+t>e.length))l.push(e.slice(r*a,r*a+t));else if(o){let n=e.slice(r*a);n=n.concat(e.slice(0,(r*a+t)%t)),l.push(n)}else break;return l}static flatten(e,t=!0){let n=t?new i.Group:[];return n.concat.apply(n,e)}static combine(e,t,n){let o=[];for(let a=0,i=e.length;a<i;a++)for(let i=0,l=t.length;i<l;i++)o.push(n(e[a],t[i]));return o}static zip(...e){let t=[];for(let n,o=0,i=e[0].length;o<i;o++){n=[];for(let t=0;t<e.length;t++)n.push(e[t][o]);t.push(n)}return t}}l.warnLevel='default',t.Util=l},function(e,o,i){'use strict';Object.defineProperty(o,'__esModule',{value:!0});const s=i(0),a=i(5);class d{static add(e,t){if('number'==typeof t)for(let n=0,o=e.length;n<o;n++)e[n]+=t;else for(let n=0,o=e.length;n<o;n++)e[n]+=t[n]||0;return e}static subtract(e,t){if('number'==typeof t)for(let n=0,o=e.length;n<o;n++)e[n]-=t;else for(let n=0,o=e.length;n<o;n++)e[n]-=t[n]||0;return e}static multiply(e,t){if('number'==typeof t)for(let n=0,o=e.length;n<o;n++)e[n]*=t;else{if(e.length!=t.length)throw new Error(`Cannot do element-wise multiply since the array lengths don't match: ${e.toString()} multiply-with ${t.toString()}`);for(let n=0,o=e.length;n<o;n++)e[n]*=t[n]}return e}static divide(e,t){if('number'==typeof t){if(0===t)throw new Error('Cannot divide by zero');for(let n=0,o=e.length;n<o;n++)e[n]/=t}else{if(e.length!=t.length)throw new Error(`Cannot do element-wise divide since the array lengths don't match. ${e.toString()} divide-by ${t.toString()}`);for(let n=0,o=e.length;n<o;n++)e[n]/=t[n]}return e}static dot(e,t){if(e.length!=t.length)throw new Error('Array lengths don\'t match');let n=0;for(let o=0,i=e.length;o<i;o++)n+=e[o]*t[o];return n}static cross(e,t){return new s.Pt(e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0])}static magnitude(e){return n(d.dot(e,e))}static unit(e,t=void 0){let n=t===void 0?d.magnitude(e):t;if(0===n)throw new Error('Cannot calculate unit vector because magnitude is 0');return d.divide(e,n)}static abs(e){return d.map(e,Math.abs)}static floor(e){return d.map(e,Math.floor)}static ceil(e){return d.map(e,Math.ceil)}static round(e){return d.map(e,Math.round)}static max(e){let t=Number.MIN_VALUE,n=0;for(let o=0,i=e.length;o<i;o++)t=u(t,e[o]),t===e[o]&&(n=o);return{value:t,index:n}}static min(e){let n=t,o=0;for(let t=0,i=e.length;t<i;t++)n=_(n,e[t]),n===e[t]&&(o=t);return{value:n,index:o}}static sum(e){let t=0;for(let n=0,o=e.length;n<o;n++)t+=e[n];return t}static map(e,t){for(let n=0,o=e.length;n<o;n++)e[n]=t(e[n],n,e);return e}}o.Vec=d;class p{static add(e,t){if('number'!=typeof t){if(e[0].length!=t[0].length)throw new Error('Cannot add matrix if rows\' and columns\' size don\'t match.');if(e.length!=t.length)throw new Error('Cannot add matrix if rows\' and columns\' size don\'t match.')}let n=new s.Group;for(let o=0,i=e.length;o<i;o++)n.push(e[o].$add('number'==typeof t?t:t[o]));return n}static multiply(e,t,n=!1,o=!1){let i=new s.Group;if(!('number'!=typeof t))for(let n=0,o=e.length;n<o;n++)i.push(e[n].$multiply(t));else if(o){if(e.length!=t.length)throw new Error('Cannot multiply matrix element-wise because the matrices\' sizes don\'t match.');for(let n=0,o=e.length;n<o;n++)i.push(e[n].$multiply(t[n]))}else{if(!n&&e[0].length!=t.length)throw new Error('Cannot multiply matrix if rows in matrix-a don\'t match columns in matrix-b.');if(n&&e[0].length!=t[0].length)throw new Error('Cannot multiply matrix if transposed and the columns in both matrices don\'t match.');n||(t=p.transpose(t));for(let n,o=0,a=e.length;o<a;o++){n=s.Pt.make(t.length,0);for(let i=0,a=t.length;i<a;i++)n[i]=d.dot(e[o],t[i]);i.push(n)}}return i}static zipSlice(e,t,n=!1){let o=[];for(let a=0,i=e.length;a<i;a++){if(e[a].length-1<t&&!1===n)throw`Index ${t} is out of bounds`;o.push(e[a][t]||n)}return new s.Pt(o)}static zip(e,t=!1,n=!1){let o=new s.Group,a=n?e.reduce((e,t)=>u(e,t.length),0):e[0].length;for(let l=0;l<a;l++)o.push(p.zipSlice(e,l,t));return o}static transpose(e,t=!1,n=!1){return p.zip(e,t,n)}static transform2D(e,t){let n=e[0]*t[0][0]+e[1]*t[1][0]+t[2][0],o=e[0]*t[0][1]+e[1]*t[1][1]+t[2][1];return new s.Pt(n,o)}static scale2DMatrix(e,t){return new s.Group(new s.Pt(e,0,0),new s.Pt(0,t,0),new s.Pt(0,0,1))}static rotate2DMatrix(e,t){return new s.Group(new s.Pt(e,t,0),new s.Pt(-t,e,0),new s.Pt(0,0,1))}static shear2DMatrix(e,t){return new s.Group(new s.Pt(1,e,0),new s.Pt(t,1,0),new s.Pt(0,0,1))}static translate2DMatrix(e,t){return new s.Group(new s.Pt(1,0,0),new s.Pt(0,1,0),new s.Pt(e,t,1))}static scaleAt2DMatrix(e,t,n){let o=p.scale2DMatrix(e,t);return o[2][0]=-n[0]*e+n[0],o[2][1]=-n[1]*t+n[1],o}static rotateAt2DMatrix(e,t,n){let o=p.rotate2DMatrix(e,t);return o[2][0]=n[0]*(1-e)+n[1]*t,o[2][1]=n[1]*(1-e)-n[0]*t,o}static shearAt2DMatrix(e,t,n){let o=p.shear2DMatrix(e,t);return o[2][0]=-n[1]*t,o[2][1]=-n[0]*e,o}static reflectAt2DMatrix(e,t){let n=a.Line.intercept(e,t);if(n==void 0)return[new s.Pt([-1,0,0]),new s.Pt([0,1,0]),new s.Pt([e[0]+t[0],0,1])];let o=n.yi,i=2*Math.atan(n.slope),u=r(i),d=l(i);return[new s.Pt([u,d,0]),new s.Pt([d,-u,0]),new s.Pt([-o*d,o+o*u,1])]}}o.Mat=p},function(t,i,d){'use strict';var h=Math.exp;Object.defineProperty(i,'__esModule',{value:!0});const g=d(1),p=d(5),m=d(0),f=d(2);class c{static equals(e,t,n=1e-5){return s(e-t)<n}static lerp(e,n,o){return(1-o)*e+o*n}static clamp(e,t,n){return u(t,_(n,e))}static boundValue(e,t,n){let o=s(n-t),i=e%o;return i>n?i-=o:i<t&&(i+=o),i}static within(e,t,n){return e>=_(t,n)&&e<=u(t,n)}static randomRange(e,t=0){let n=e>t?e-t:t-e;return e+Math.random()*n}static normalizeValue(e,t,n){let o=_(t,n),i=u(t,n);return(e-o)/(i-o)}static sum(e){let t=new m.Pt(e[0]);for(let n=1,o=e.length;n<o;n++)f.Vec.add(t,e[n]);return t}static average(e){return c.sum(e).divide(e.length)}static cycle(e){return(l(2*o*e)+1)/2}static mapToRange(e,t,n,o,i){if(t==n)throw new Error('[currMin, currMax] must define a range that is not zero');let a=_(o,i),l=u(o,i);return c.normalizeValue(e,t,n)*(l-a)+a}}i.Num=c;class b{static boundAngle(e){return c.boundValue(e,0,360)}static boundRadian(e){return c.boundValue(e,0,g.Const.two_pi)}static toRadian(e){return e*g.Const.deg_to_rad}static toDegree(e){return e*g.Const.rad_to_deg}static boundingBox(e){let t=e.reduce((e,t)=>e.$min(t)),n=e.reduce((e,t)=>e.$max(t));return new m.Group(t,n)}static centroid(e){return c.average(e)}static anchor(e,t=0,n='to'){let o='to'==n?'subtract':'add';for(let a=0,i=e.length;a<i;a++)'number'==typeof t?t!==a&&e[a][o](e[t]):e[a][o](t)}static interpolate(e,n,o=0.5){let t=_(e.length,n.length),a=m.Pt.make(t);for(let l=0;l<t;l++)a[l]=e[l]*(1-o)+n[l]*o;return a}static perpendicular(e,t=g.Const.xy){let n=t[1],o=t[0],i=new m.Pt(e),a=new m.Pt(i);a[o]=-i[n],a[n]=i[o];let l=new m.Pt(i);return l[o]=i[n],l[n]=-i[o],new m.Group(a,l)}static isPerpendicular(e,t){return 0===new m.Pt(e).dot(t)}static withinBound(e,t,n){for(let o=0,i=_(e.length,t.length,n.length);o<i;o++)if(!c.within(e[o],t[o],n[o]))return!1;return!0}static scale(e,t,n){let o=Array.isArray(e)?e:[e],i='number'==typeof t?m.Pt.make(o[0].length,t):t;n||(n=m.Pt.make(o[0].length,0));for(let a,l=0,r=o.length;l<r;l++){a=o[l];for(let e=0,t=a.length;e<t;e++)a[e]=n&&n[e]?n[e]+(a[e]-n[e])*i[e]:a[e]*i[e]}return b}static rotate2D(e,t,n,o){let a=Array.isArray(e)?e:[e],s=n?f.Mat.rotateAt2DMatrix:f.Mat.rotate2DMatrix;n||(n=m.Pt.make(a[0].length,0));let u=r(t),d=l(t);for(let l,r=0,i=a.length;r<i;r++)l=o?a[r].$take(o):a[r],l.to(f.Mat.transform2D(l,s(u,d,n)));return b}static shear2D(e,t,n,o){var i=Math.tan;let a=Array.isArray(e)?e:[e],l='number'==typeof t?[t,t]:t;n||(n=m.Pt.make(a[0].length,0));let r=n?f.Mat.shearAt2DMatrix:f.Mat.shear2DMatrix,s=i(l[0]),u=i(l[1]);for(let l,d=0,i=a.length;d<i;d++)l=o?a[d].$take(o):a[d],l.to(f.Mat.transform2D(l,r(s,u,n)));return b}static reflect2D(e,t,n){let o=Array.isArray(e)?e:[e];for(let a,l=0,i=o.length;l<i;l++)a=n?o[l].$take(n):o[l],a.to(f.Mat.transform2D(a,f.Mat.reflectAt2DMatrix(t[0],t[1])));return b}static cosTable(){let e=new Float64Array(360);for(let t=0;360>t;t++)e[t]=r(t*o/180);return{table:e,cos:(t)=>e[a(b.boundAngle(b.toDegree(t)))]}}static sinTable(){let e=new Float64Array(360);for(let t=0;360>t;t++)e[t]=l(t*o/180);return{table:e,sin:(t)=>e[a(b.boundAngle(b.toDegree(t)))]}}}i.Geom=b;class P{static linear(e,t=1){return t*e}static quadraticIn(e,t=1){return t*e*e}static quadraticOut(e,t=1){return-t*e*(e-2)}static quadraticInOut(e,t=1){let n=2*e;return 0.5>e?4*(t/2*e*e):-t/2*((n-1)*(n-3)-1)}static cubicIn(e,t=1){return t*e*e*e}static cubicOut(e,t=1){let n=e-1;return t*(n*n*n+1)}static cubicInOut(e,t=1){let n=2*e;return 0.5>e?t/2*n*n*n:t/2*((n-2)*(n-2)*(n-2)+2)}static exponentialIn(n,t=1,o=0.25){return t*e(n,1/o)}static exponentialOut(n,t=1,o=0.25){return t*e(n,o)}static sineIn(e,t=1){return-t*r(e*g.Const.half_pi)+t}static sineOut(e,t=1){return t*l(e*g.Const.half_pi)}static sineInOut(e,t=1){return-t/2*(r(o*e)-1)}static cosineApprox(e,t=1){let n=e*e,o=n*n;return t*(4*(o*n)/9-17*o/9+22*n/9)}static circularIn(e,t=1){return-t*(n(1-e*e)-1)}static circularOut(e,t=1){let o=e-1;return t*n(1-o*o)}static circularInOut(e,t=1){let o=2*e;return 0.5>e?-t/2*(n(1-o*o)-1):t/2*(n(1-(o-2)*(o-2))+1)}static elasticIn(n,t=1,o=0.7){let i=n-1,a=1.5707963267948966*(o/g.Const.two_pi);return t*(-e(2,10*i)*l((i-a)*g.Const.two_pi/o))}static elasticOut(n,t=1,o=0.7){let i=1.5707963267948966*(o/g.Const.two_pi);return t*(e(2,-10*n)*l((n-i)*g.Const.two_pi/o))+t}static elasticInOut(n,t=1,o=0.6){let i=2*n,a=1.5707963267948966*(o/g.Const.two_pi);return 0.5>n?(i-=1,t*(-0.5*(e(2,10*i)*l((i-a)*g.Const.two_pi/o)))):(i-=1,t*(0.5*(e(2,-10*i)*l((i-a)*g.Const.two_pi/o)))+t)}static bounceIn(e,t=1){return t-P.bounceOut(1-e,t)}static bounceOut(e,t=1){return e<1/2.75?t*(7.5625*e*e):e<2/2.75?(e-=1.5/2.75,t*(7.5625*e*e+0.75)):e<2.5/2.75?(e-=2.25/2.75,t*(7.5625*e*e+0.9375)):(e-=2.625/2.75,t*(7.5625*e*e+0.984375))}static bounceInOut(e,t=1){return 0.5>e?P.bounceIn(2*e,t)/2:P.bounceOut(2*e-1,t)/2+t/2}static sigmoid(e,t=1,n=10){return t/(1+h(-(n*(e-0.5))))}static logSigmoid(e,t=1,n=0.7){n=u(g.Const.epsilon,_(1-g.Const.epsilon,n)),n=1/(1-n);let o=1/(1+h(-2*((e-0.5)*n))),i=1/(1+h(n)),a=1/(1+h(-n));return t*(o-i)/(a-i)}static seat(n,t=1,o=0.5){return 0.5>n?t*e(2*n,1-o)/2:t*(1-e(2*(1-n),1-o)/2)}static quadraticBezier(e,t=1,o=[0.05,0.95]){let i='number'==typeof o?o:o[0],a='number'==typeof o?0.5:o[1],l=1-2*i;0==l&&(l=g.Const.epsilon);let r=(n(i*i+l*e)-i)/l;return t*((1-2*a)*(r*r)+2*a*r)}static cubicBezier(e,t=1,n=[0.1,0.7],o=[0.9,0.2]){let i=new m.Group(new m.Pt(0,0),new m.Pt(n),new m.Pt(o),new m.Pt(1,1));return t*p.Curve.bezierStep(new m.Pt(e*e*e,e*e,e,1),p.Curve.controlPoints(i)).y}static quadraticTarget(e,t=1,n=[0.2,0.35]){let o=_(1-g.Const.epsilon,u(g.Const.epsilon,n[0])),i=_(1,u(0,n[1])),a=(1-i)/(1-o)-i/o;return t*_(1,u(0,a*(e*e)-(a*(o*o)-i)/o*e))}static cliff(e,t=1,n=0.5){return e>n?t:0}static step(e,n,o,t,...i){let l=1/n,r=a(o/l)*l;return e(r,t,...i)}}i.Shaping=P},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0);class i extends o.Group{constructor(...e){super(...e),this._center=new o.Pt,this._size=new o.Pt,this._topLeft=new o.Pt,this._bottomRight=new o.Pt,this._inited=!1,this.init()}static fromBoundingRect(e){let t=new i(new o.Pt(e.left||0,e.top||0),new o.Pt(e.right||0,e.bottom||0));return e.width&&e.height&&(t.size=new o.Pt(e.width,e.height)),t}init(){if(this.p1&&(this._size=this.p1.clone(),this._inited=!0),this.p1&&this.p2){let e=this.p1,t=this.p2;this.topLeft=e.$min(t),this._bottomRight=e.$max(t),this._updateSize(),this._inited=!0}}clone(){return new i(this._topLeft.clone(),this._bottomRight.clone())}_updateSize(){this._size=this._bottomRight.$subtract(this._topLeft).abs(),this._updateCenter()}_updateCenter(){this._center=this._size.$multiply(0.5).add(this._topLeft)}_updatePosFromTop(){this._bottomRight=this._topLeft.$add(this._size),this._updateCenter()}_updatePosFromBottom(){this._topLeft=this._bottomRight.$subtract(this._size),this._updateCenter()}_updatePosFromCenter(){let e=this._size.$multiply(0.5);this._topLeft=this._center.$subtract(e),this._bottomRight=this._center.$add(e)}get size(){return new o.Pt(this._size)}set size(e){this._size=new o.Pt(e),this._updatePosFromTop()}get center(){return new o.Pt(this._center)}set center(e){this._center=new o.Pt(e),this._updatePosFromCenter()}get topLeft(){return new o.Pt(this._topLeft)}set topLeft(e){this._topLeft=new o.Pt(e),this[0]=this._topLeft,this._updateSize()}get bottomRight(){return new o.Pt(this._bottomRight)}set bottomRight(e){this._bottomRight=new o.Pt(e),this[1]=this._bottomRight,this._updateSize()}get width(){return 0<this._size.length?this._size.x:0}set width(e){this._size.x=e,this._updatePosFromTop()}get height(){return 1<this._size.length?this._size.y:0}set height(e){this._size.y=e,this._updatePosFromTop()}get depth(){return 2<this._size.length?this._size.z:0}set depth(e){this._size.z=e,this._updatePosFromTop()}get x(){return this.topLeft.x}get y(){return this.topLeft.y}get z(){return this.topLeft.z}get inited(){return this._inited}update(){return this._topLeft=this[0],this._bottomRight=this[1],this._updateSize(),this}}t.Bound=i},function(e,i,a){'use strict';Object.defineProperty(i,'__esModule',{value:!0});const l=a(1),r=a(3),P=a(0),d=a(2);let c=(e,t='expected')=>l.Util.warn('Group\'s length is less than '+t,e),p=(e,t='')=>l.Util.warn(`Index ${t} is out of bound in Group`,e);class h{static fromAngle(e,t,n){let o=new P.Group(new P.Pt(e),new P.Pt(e));return o[1].toAngle(t,n,!0),o}static slope(e,t){return 0==t[0]-e[0]?void 0:(t[1]-e[1])/(t[0]-e[0])}static intercept(e,t){if(0==t[0]-e[0])return;let n=(t[1]-e[1])/(t[0]-e[0]),o=e[1]-n*e[0];return{slope:n,yi:o,xi:0==n?void 0:-o/n}}static sideOfPt2D(e,t){return(e[1][0]-e[0][0])*(t[1]-e[0][1])-(t[0]-e[0][0])*(e[1][1]-e[0][1])}static collinear(e,t,n,o=0.01){let i=new P.Pt(0,0,0).to(e).$subtract(t),a=new P.Pt(0,0,0).to(e).$subtract(n);return i.$cross(a).divide(1e3).equals(new P.Pt(0,0,0),o)}static magnitude(e){return 2<=e.length?e[1].$subtract(e[0]).magnitude():0}static magnitudeSq(e){return 2<=e.length?e[1].$subtract(e[0]).magnitudeSq():0}static perpendicularFromPt(e,t,n=!1){if(!e[0].equals(e[1])){let o=e[0].$subtract(e[1]),i=e[1].$subtract(t),a=i.$subtract(o.$project(i));return n?a:a.$add(t)}}static distanceFromPt(e,t){return h.perpendicularFromPt(e,t,!0).magnitude()}static intersectRay2D(e,t){let n=h.intercept(e[0],e[1]),o=h.intercept(t[0],t[1]),i=e[0],a=t[0];if(n==void 0){if(o==void 0)return;let e=-o.slope*(a[0]-i[0])+a[1];return new P.Pt(i[0],e)}if(void 0==o){let e=-n.slope*(i[0]-a[0])+i[1];return new P.Pt(a[0],e)}if(o.slope!=n.slope){let e=(n.slope*i[0]-o.slope*a[0]+a[1]-i[1])/(n.slope-o.slope),t=n.slope*(e-i[0])+i[1];return new P.Pt(e,t)}return n.yi==o.yi?new P.Pt(i[0],i[1]):void 0}static intersectLine2D(e,t){let n=h.intersectRay2D(e,t);return n&&r.Geom.withinBound(n,e[0],e[1])&&r.Geom.withinBound(n,t[0],t[1])?n:void 0}static intersectLineWithRay2D(e,t){let n=h.intersectRay2D(e,t);return n&&r.Geom.withinBound(n,e[0],e[1])?n:void 0}static intersectPolygon2D(e,t,n=!1){let o=n?h.intersectLineWithRay2D:h.intersectLine2D,a=new P.Group;for(let l,r=0,i=t.length;r<i;r++)l=o(t[r],e),l&&a.push(l);return 0<a.length?a:void 0}static intersectGridWithRay2D(e,n){let o=h.intercept(new P.Pt(e[0]).subtract(n),new P.Pt(e[1]).subtract(n)),t=new P.Group;return o&&o.xi&&t.push(new P.Pt(n[0]+o.xi,n[1])),o&&o.yi&&t.push(new P.Pt(n[0],n[1]+o.yi)),t}static intersectGridWithLine2D(e,t){let n=h.intersectGridWithRay2D(e,t),o=new P.Group;for(let a=0,i=n.length;a<i;a++)r.Geom.withinBound(n[a],e[0],e[1])&&o.push(n[a]);return o}static intersectRect2D(e,t){return m.intersectRect2D(h.toRect(e),t)}static subpoints(e,t){let n=new P.Group;for(let o=1;o<=t;o++)n.push(r.Geom.interpolate(e[0],e[1],o/(t+1)));return n}static toRect(e){return new P.Group(e[0].$min(e[1]),e[0].$max(e[1]))}}i.Line=h;class m{static from(e,t,n){return m.fromTopLeft(e,t,n)}static fromTopLeft(e,t,n){let o='number'==typeof t?[t,n||t]:t;return new P.Group(new P.Pt(e),new P.Pt(e).add(o))}static fromCenter(e,t,n){let o='number'==typeof t?[t/2,(n||t)/2]:new P.Pt(t).divide(2);return new P.Group(new P.Pt(e).subtract(o),new P.Pt(e).add(o))}static toCircle(e){return f.fromRect(e)}static size(e){return e[0].$max(e[1]).subtract(e[0].$min(e[1]))}static center(e){let t=e[0].$min(e[1]),n=e[0].$max(e[1]);return t.add(n.$subtract(t).divide(2))}static corners(e){let t=e[0].$min(e[1]),n=e[0].$max(e[1]);return new P.Group(t,new P.Pt(n.x,t.y),n,new P.Pt(t.x,n.y))}static sides(e){let[t,n,o,i]=m.corners(e);return[new P.Group(t,n),new P.Group(n,o),new P.Group(o,i),new P.Group(i,t)]}static lines(e){return m.sides(e)}static boundingBox(e){let t=l.Util.flatten(e,!1),n=P.Pt.make(2,Number.MAX_VALUE),o=P.Pt.make(2,Number.MIN_VALUE);for(let a=0,i=t.length;a<i;a++)for(let e=0;2>e;e++)n[e]=_(n[e],t[a][e]),o[e]=u(o[e],t[a][e]);return new P.Group(n,o)}static polygon(e){return m.corners(e)}static quadrants(e,t){let n=m.corners(e),o=t==void 0?r.Geom.interpolate(e[0],e[1],0.5):new P.Pt(t);return n.map((e)=>new P.Group(e,o).boundingBox())}static withinBound(e,t){return r.Geom.withinBound(t,e[0],e[1])}static hasIntersectRect2D(e,t){let n=m.corners(e);for(let o=0,i=n.length;o<i;o++)if(r.Geom.withinBound(n[o],t[0],t[1]))return!0;return!1}static intersectRect2D(e,t){return l.Util.flatten(y.intersect2D(m.sides(e),m.sides(t)))}}i.Rectangle=m;class f{static fromRect(e,t=!1){let o=0,i=o=m.size(e).minValue().value/2;if(t){let t=m.size(e).maxValue().value/2;o=n(i*i+t*t)}else o=i;return new P.Group(m.center(e),new P.Pt(o,o))}static fromCenter(e,t){return new P.Group(new P.Pt(e),new P.Pt(t,t))}static withinBound(e,t){let n=e[0].$subtract(t);return n.dot(n)<e[1].x*e[1].x}static intersectRay2D(e,t){let o=t[0].$subtract(t[1]),i=e[0].$subtract(t[0]),l=o.dot(o),a=i.dot(o),r=i.dot(i)-e[1].x*e[1].x,s=a/l,u=s*s-r/l;if(0>u)return new P.Group;let d=n(u),c=t[0].$subtract(o.$multiply(-s+d));if(0==u)return new P.Group(c);let _=t[0].$subtract(o.$multiply(-s-d));return new P.Group(c,_)}static intersectLine2D(e,t){let n=f.intersectRay2D(e,t),o=new P.Group;if(0<n.length)for(let e=0,i=n.length;e<i;e++)m.withinBound(t,n[e])&&o.push(n[e]);return o}static intersectCircle2D(e,t){let o=t[0].$subtract(e[0]),i=o.magnitudeSq(),l=n(i),r=e[1].x,u=t[1].x,d=r*r;if(l>r+u)return new P.Group;if(l<s(r-u))return new P.Group(e[0].clone());let c=(d-u*u+i)/(2*l),a=n(d-c*c),_=o.$multiply(c/l).add(e[0]);return new P.Group(new P.Pt(_.x+a*o.y/l,_.y-a*o.x/l),new P.Pt(_.x-a*o.y/l,_.y+a*o.x/l))}static intersectRect2D(e,t){let n=m.sides(t),o=[];for(let a,l=0,i=n.length;l<i;l++)a=f.intersectLine2D(e,n[l]),0<a.length&&o.push(a);return l.Util.flatten(o)}static toRect(e){let t=e[1][0];return new P.Group(e[0].$subtract(t),e[0].$add(t))}static toInnerRect(e){let t=e[1][0],o=n(t*t)/2;return new P.Group(e[0].$subtract(o),e[0].$add(o))}static toInnerTriangle(e){let t=-o/2,n=new P.Group;for(let a=0;3>a;a++)n.push(e[0].clone().toAngle(t,e[1][0],!0)),t+=2*o/3;return n}}i.Circle=f;class g{static fromRect(e){let t=e[0].$add(e[1]).divide(2);t.y=e[0][1];let n=e[1].clone();return n.x=e[0][0],new P.Group(t,e[1].clone(),n)}static fromCircle(e){return f.toInnerTriangle(e)}static fromCenter(e,t){return g.fromCircle(f.fromCenter(e,t))}static medial(e){return 3>e.length?c(new P.Group,3):y.midpoints(e,!0)}static oppositeSide(e,t){return 3>e.length?c(new P.Group,3):0===t?P.Group.fromPtArray([e[1],e[2]]):1===t?P.Group.fromPtArray([e[0],e[2]]):P.Group.fromPtArray([e[0],e[1]])}static altitude(e,t){let n=g.oppositeSide(e,t);return 1<n.length?new P.Group(e[t],h.perpendicularFromPt(n,e[t])):new P.Group}static orthocenter(e){if(3>e.length)return c(void 0,3);let t=g.altitude(e,0),n=g.altitude(e,1);return h.intersectRay2D(t,n)}static incenter(e){if(3>e.length)return c(void 0,3);let t=y.bisector(e,0).add(e[0]),n=y.bisector(e,1).add(e[1]);return h.intersectRay2D(new P.Group(e[0],t),new P.Group(e[1],n))}static incircle(e,t){let n=t?t:g.incenter(e),o=y.area(e),i=y.perimeter(e,!0),a=2*o/i.total;return f.fromCenter(n,a)}static circumcenter(e){let t=g.medial(e),n=[t[0],r.Geom.perpendicular(e[0].$subtract(t[0])).p1.$add(t[0])],o=[t[1],r.Geom.perpendicular(e[1].$subtract(t[1])).p1.$add(t[1])];return h.intersectRay2D(n,o)}static circumcircle(e,t){let n=t?t:g.circumcenter(e),o=e[0].$subtract(n).magnitude();return f.fromCenter(n,o)}}i.Triangle=g;class y{static centroid(e){return r.Geom.centroid(e)}static lines(e,t=!1){if(2>e.length)return c(new P.Group,2);let n=l.Util.split(e,2,1);return t&&n.push(new P.Group(e[e.length-1],e[0])),n.map((e)=>e)}static midpoints(e,n=!1,o=0.5){if(2>e.length)return c(new P.Group,2);let t=y.lines(e,n),i=t.map((e)=>r.Geom.interpolate(e[0],e[1],o));return i}static adjacentSides(e,t,n=!1){if(2>e.length)return c(new P.Group,2);if(0>t||t>=e.length)return p(new P.Group,t);let o=[],i=t-1;n&&0>i&&(i=e.length-1),0<=i&&o.push(new P.Group(e[t],e[i]));let a=t+1;return n&&a>e.length-1&&(a=0),a<=e.length-1&&o.push(new P.Group(e[t],e[a])),o}static bisector(e,t){let n=y.adjacentSides(e,t,!0);if(2<=n.length){let e=n[0][1].$subtract(n[0][0]).unit(),t=n[1][1].$subtract(n[1][0]).unit();return e.add(t).divide(2)}}static perimeter(e,t=!1){if(2>e.length)return c(new P.Group,2);let n=y.lines(e,t),o=0,a=P.Pt.make(n.length,0);for(let l,r=0,i=n.length;r<i;r++)l=h.magnitude(n[r]),o+=l,a[r]=l;return{total:o,segments:a}}static area(e){if(3>e.length)return c(new P.Group,3);let t=(e,t)=>e[0]*t[1]-e[1]*t[0],n=0;for(let o=0,i=e.length;o<i;o++)n+=o<e.length-1?t(e[o],e[o+1]):t(e[o],e[0]);return s(n/2)}static convexHull(e,t=!1){if(3>e.length)return c(new P.Group,3);t||(e=e.slice(),e.sort((e,t)=>e[0]-t[0]));let n=(e,t,n)=>{return 0<(t[0]-e[0])*(n[1]-e[1])-(n[0]-e[0])*(t[1]-e[1])},o=[],a=e.length-2,l=a+3;o[a]=e[2],o[l]=e[2],n(e[0],e[1],e[2])?(o[a+1]=e[0],o[a+2]=e[1]):(o[a+1]=e[1],o[a+2]=e[0]);for(let r,s=3,i=e.length;s<i;s++)if(r=e[s],!(n(o[a],o[a+1],r)&&n(o[l-1],o[l],r))){for(;!n(o[a],o[a+1],r);)a+=1;for(a-=1,o[a]=r;!n(o[l-1],o[l],r);)l-=1;l+=1,o[l]=r}let i=new P.Group;for(let n=0;n<l-a;n++)i.push(o[a+n]);return i}static intersect2D(e,t,n=!1){let o=[];for(let a,l=0,i=t.length;l<i;l++)a=h.intersectPolygon2D(t[l],e,n),a&&o.push(a);return o}static network(e,t=0){let n=[];for(let o=0,i=e.length;o<i;o++)o!=t&&n.push(new P.Group(e[t],e[o]));return n}static nearestPt(e,n){let o=t,a=-1;for(let t,l=0,i=e.length;l<i;l++)t=e[l].$subtract(n).magnitudeSq(),t<o&&(o=t,a=l);return 0<=a?e[a]:void 0}static toRects(e){let t=e.map((e)=>r.Geom.boundingBox(e)),n=l.Util.flatten(t,!1);return t.unshift(r.Geom.boundingBox(n)),t}}i.Polygon=y;class b{static getSteps(e){let n=new P.Group;for(let o,t=0;t<=e;t++)o=t/e,n.push(new P.Pt(o*o*o,o*o,o,1));return n}static controlPoints(e,t=0,n=!1){if(t>e.length-1)return new P.Group;let o=(t)=>t<e.length-1?t:e.length-1,i=e[t];return t=n?t:t+1,new P.Group(i,e[o(t++)],e[o(t++)],e[o(t++)])}static _calcPt(e,t){let n=e.reduce((e,n,o)=>e+n.x*t[o],0),o=e.reduce((e,n,o)=>e+n.y*t[o],0);if(2<e[0].length){let i=e.reduce((e,n,o)=>e+n.z*t[o],0);return new P.Pt(n,o,i)}return new P.Pt(n,o)}static catmullRom(e,t=10){if(2>e.length)return new P.Group;let n=new P.Group,o=b.getSteps(t),a=b.controlPoints(e,0,!0);for(let l=0;l<=t;l++)n.push(b.catmullRomStep(o[l],a));for(let i=0;i<e.length-2;){let a=b.controlPoints(e,i);if(0<a.length){for(let e=0;e<=t;e++)n.push(b.catmullRomStep(o[e],a));i++}}return n}static catmullRomStep(e,t){let n=new P.Group(new P.Pt(-0.5,1,-0.5,0),new P.Pt(1.5,-2.5,0,1),new P.Pt(-1.5,2,0.5,0),new P.Pt(0.5,-0.5,0,0));return b._calcPt(t,d.Mat.multiply([e],n,!0)[0])}static cardinal(e,t=10,n=0.5){if(2>e.length)return new P.Group;let o=new P.Group,a=b.getSteps(t),l=b.controlPoints(e,0,!0);for(let r=0;r<=t;r++)o.push(b.cardinalStep(a[r],l,n));for(let i=0;i<e.length-2;){let l=b.controlPoints(e,i);if(0<l.length){for(let e=0;e<=t;e++)o.push(b.cardinalStep(a[e],l,n));i++}}return o}static cardinalStep(e,t,n=0.5){let o=new P.Group(new P.Pt(-1,2,-1,0),new P.Pt(-1,1,0,0),new P.Pt(1,-2,1,0),new P.Pt(1,-1,0,0)),i=d.Mat.multiply([e],o,!0)[0].multiply(n),a=2*e[0]-3*e[1]+1,l=-2*e[0]+3*e[1],r=b._calcPt(t,i);return r.x+=a*t[1].x+l*t[2].x,r.y+=a*t[1].y+l*t[2].y,2<r.length&&(r.z+=a*t[1].z+l*t[2].z),r}static bezier(e,t=10){if(4>e.length)return new P.Group;let n=new P.Group,o=b.getSteps(t),i=0;for(;i<e.length-3;){let a=b.controlPoints(e,i);if(0<a.length){for(let e=0;e<=t;e++)n.push(b.bezierStep(o[e],a));i+=3}}return n}static bezierStep(e,t){let n=new P.Group(new P.Pt(-1,3,-3,1),new P.Pt(3,-6,3,0),new P.Pt(-3,3,0,0),new P.Pt(1,0,0,0));return b._calcPt(t,d.Mat.multiply([e],n,!0)[0])}static bspline(e,t=10,n=1){if(2>e.length)return new P.Group;let o=new P.Group,a=b.getSteps(t),i=0;for(;i<e.length-3;){let l=b.controlPoints(e,i);if(0<l.length){if(1!==n)for(let e=0;e<=t;e++)o.push(b.bsplineTensionStep(a[e],l,n));else for(let e=0;e<=t;e++)o.push(b.bsplineStep(a[e],l));i++}}return o}static bsplineStep(e,t){let n=new P.Group(new P.Pt(-0.16666666666666666,0.5,-0.5,0.16666666666666666),new P.Pt(0.5,-1,0,0.6666666666666666),new P.Pt(-0.5,0.5,0.5,0.16666666666666666),new P.Pt(0.16666666666666666,0,0,0));return b._calcPt(t,d.Mat.multiply([e],n,!0)[0])}static bsplineTensionStep(e,t,n=1){let o=new P.Group(new P.Pt(-0.16666666666666666,0.5,-0.5,0.16666666666666666),new P.Pt(-1.5,2,0,-0.3333333333333333),new P.Pt(1.5,-2.5,0.5,0.16666666666666666),new P.Pt(0.16666666666666666,0,0,0)),i=d.Mat.multiply([e],o,!0)[0].multiply(n),a=2*e[0]-3*e[1]+1,l=-2*e[0]+3*e[1],r=b._calcPt(t,i);return r.x+=a*t[1].x+l*t[2].x,r.y+=a*t[1].y+l*t[2].y,2<r.length&&(r.z+=a*t[1].z+l*t[2].z),r}}i.Curve=b},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});class n{}t.Form=n;class o extends n{constructor(){super(...arguments),this._filled=!0,this._stroked=!0,this._font=new i}get filled(){return this._filled}set filled(e){this._filled=e}get stroked(){return this._stroked}set stroked(e){this._stroked=e}get currentFont(){return this._font}}t.VisualForm=o;class i{constructor(e=12,t='sans-serif',n='',o='',i=1.5){this.size=e,this.face=t,this.style=o,this.weight=n,this.lineHeight=i}get value(){return`${this.style} ${this.weight} ${this.size}px/${this.lineHeight} ${this.face}`}toString(){return this.value}}t.Font=i},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(4),i=n(0);class a{constructor(){this.id='space',this.bound=new o.Bound,this._time={prev:0,diff:0,end:-1},this.players={},this.playerCount=0,this._animID=-1,this._pause=!1,this._refresh=void 0,this._pointer=new i.Pt}refresh(e){return this._refresh=e,this}add(e){let t='function'==typeof e?{animate:e}:e,n=this.playerCount++,o=this.id+n;return this.players[o]=t,t.animateID=o,t.resize&&this.bound.inited&&t.resize(this.bound),void 0===this._refresh&&(this._refresh=!0),this}remove(e){return delete this.players[e.animateID],this}removeAll(){return this.players={},this}play(e=0){if(this._animID=requestAnimationFrame(this.play.bind(this)),this._pause)return this;this._time.diff=e-this._time.prev,this._time.prev=e;try{this.playItems(e)}catch(e){throw cancelAnimationFrame(this._animID),e}return this}replay(){this._time.end=-1,this.play()}playItems(e){for(let t in this._refresh&&this.clear(),this.players)this.players[t].animate&&this.players[t].animate(e,this._time.diff,this);0<=this._time.end&&e>this._time.end&&cancelAnimationFrame(this._animID)}pause(e=!1){return this._pause=!e||!this._pause,this}resume(){return this._pause=!1,this}stop(e=0){return this._time.end=e,this}playOnce(e=5e3){return this.play(),this.stop(e),this}get outerBound(){return this.bound.clone()}get innerBound(){return new o.Bound(i.Pt.make(this.size.length,0),this.size.clone())}get size(){return this.bound.size.clone()}get center(){return this.size.divide(2)}get width(){return this.bound.width}get height(){return this.bound.height}}t.Space=a},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(7),i=n(6),l=n(4),r=n(0),s=n(1);class u extends o.Space{constructor(e,t){super(),this._pixelScale=1,this._autoResize=!0,this._bgcolor='#e1e9f0',this._offscreen=!1,this._pressed=!1,this._dragged=!1,this._hasMouse=!1,this._hasTouch=!1,this._renderFunc=void 0,this._isReady=!1;var n=null,o=!1;this.id='pt';e instanceof Element?(n=e,this.id='pts_existing_space'):(n=document.querySelector(e),o=!0,this.id=e);n?'canvas'==n.nodeName.toLowerCase()?(this._canvas=n,this._container=n.parentElement,this._autoResize=!1):(this._container=n,this._canvas=this._createElement('canvas',this.id+'_canvas'),this._container.appendChild(this._canvas)):(this._container=this._createElement('div',this.id+'_container'),this._canvas=this._createElement('canvas',this.id),this._container.appendChild(this._canvas),document.body.appendChild(this._container),o=!1),setTimeout(this._ready.bind(this,t),50),this._ctx=this._canvas.getContext('2d')}_createElement(e='div',t){let n=document.createElement(e);return n.setAttribute('id',t),n}_ready(e){if(!this._container)throw new Error(`Cannot initiate #${this.id} element`);this._isReady=!0;let t=this._autoResize?this._container.getBoundingClientRect():this._canvas.getBoundingClientRect();for(let n in t&&this.resize(l.Bound.fromBoundingRect(t)),this.clear(this._bgcolor),this._canvas.dispatchEvent(new Event('ready')),this.players)this.players[n].start&&this.players[n].start(this.bound.clone(),this);this._pointer=this.center,e&&e(this.bound,this._canvas)}setup(e){if(e.bgcolor&&(this._bgcolor=e.bgcolor),this.autoResize=void 0!=e.resize&&e.resize,!1!==e.retina){let e=window.devicePixelRatio||1,t=this._ctx.webkitBackingStorePixelRatio||this._ctx.mozBackingStorePixelRatio||this._ctx.msBackingStorePixelRatio||this._ctx.oBackingStorePixelRatio||this._ctx.backingStorePixelRatio||1;this._pixelScale=e/t}return e.offscreen?(this._offscreen=!0,this._offCanvas=this._createElement('canvas',this.id+'_offscreen'),this._offCtx=this._offCanvas.getContext('2d')):this._offscreen=!1,this}set autoResize(e){this._autoResize=e,e?window.addEventListener('resize',this._resizeHandler.bind(this)):window.removeEventListener('resize',this._resizeHandler.bind(this))}get autoResize(){return this._autoResize}get pixelScale(){return this._pixelScale}get hasOffscreen(){return this._offscreen}get offscreenCtx(){return this._offCtx}get offscreenCanvas(){return this._offCanvas}get pointer(){let e=this._pointer.clone();return e.id=this._pointer.id,e}getForm(){return new d(this)}get element(){return this._canvas}get parent(){return this._container}get ctx(){return this._ctx}get canvas(){return this._canvas}resize(e,t){for(let n in this.bound=e,this._canvas.width=this.bound.size.x*this._pixelScale,this._canvas.height=this.bound.size.y*this._pixelScale,this._canvas.style.width=a(this.bound.size.x)+'px',this._canvas.style.height=a(this.bound.size.y)+'px',this._offscreen&&(this._offCanvas.width=this.bound.size.x*this._pixelScale,this._offCanvas.height=this.bound.size.y*this._pixelScale),1!=this._pixelScale&&(this._ctx.scale(this._pixelScale,this._pixelScale),this._ctx.translate(0.5,0.5),this._offscreen&&(this._offCtx.scale(this._pixelScale,this._pixelScale),this._offCtx.translate(0.5,0.5))),this.players)if(this.players.hasOwnProperty(n)){let e=this.players[n];e.resize&&e.resize(this.bound,t)}return this.render(this._ctx),this}_resizeHandler(e){let t=this._autoResize?this._container.getBoundingClientRect():this._canvas.getBoundingClientRect();t&&this.resize(l.Bound.fromBoundingRect(t),e)}clear(e){e&&(this._bgcolor=e);let t=this._ctx.fillStyle;return this._bgcolor&&'transparent'!=this._bgcolor?(this._ctx.fillStyle=this._bgcolor,this._ctx.fillRect(-1,-1,this._canvas.width+1,this._canvas.height+1)):this._ctx.clearRect(-1,-1,this._canvas.width+1,this._canvas.height+1),this._ctx.fillStyle=t,this}clearOffscreen(e){return this._offscreen&&(e?(this._offCtx.fillStyle=e,this._offCtx.fillRect(-1,-1,this._canvas.width+1,this._canvas.height+1)):this._offCtx.clearRect(-1,-1,this._offCanvas.width+1,this._offCanvas.height+1)),this}playItems(e){this._isReady&&(this._ctx.save(),this._offscreen&&this._offCtx.save(),super.playItems(e),this._ctx.restore(),this._offscreen&&this._offCtx.restore(),this.render(this._ctx))}bindCanvas(e,t){this._canvas.addEventListener(e,t)}unbindCanvas(e,t){this._canvas.removeEventListener(e,t)}bindMouse(e=!0){return e?(this.bindCanvas('mousedown',this._mouseDown.bind(this)),this.bindCanvas('mouseup',this._mouseUp.bind(this)),this.bindCanvas('mouseover',this._mouseOver.bind(this)),this.bindCanvas('mouseout',this._mouseOut.bind(this)),this.bindCanvas('mousemove',this._mouseMove.bind(this)),this._hasMouse=!0):(this.unbindCanvas('mousedown',this._mouseDown.bind(this)),this.unbindCanvas('mouseup',this._mouseUp.bind(this)),this.unbindCanvas('mouseover',this._mouseOver.bind(this)),this.unbindCanvas('mouseout',this._mouseOut.bind(this)),this.unbindCanvas('mousemove',this._mouseMove.bind(this)),this._hasMouse=!1),this}bindTouch(e=!0){return e?(this.bindCanvas('touchstart',this._mouseDown.bind(this)),this.bindCanvas('touchend',this._mouseUp.bind(this)),this.bindCanvas('touchmove',this._touchMove.bind(this)),this.bindCanvas('touchcancel',this._mouseOut.bind(this)),this._hasTouch=!0):(this.unbindCanvas('touchstart',this._mouseDown.bind(this)),this.unbindCanvas('touchend',this._mouseUp.bind(this)),this.unbindCanvas('touchmove',this._touchMove.bind(this)),this.unbindCanvas('touchcancel',this._mouseOut.bind(this)),this._hasTouch=!1),this}touchesToPoints(e,n='touches'){if(!e||!e[n])return[];let o=[];for(var a=0;a<e[n].length;a++){let i=e[n].item(a);o.push(new r.Pt(i.pageX-this.bound.topLeft.x,i.pageY-this.bound.topLeft.y))}return o}_mouseAction(e,t){let n=0,o=0;if(t instanceof MouseEvent){for(let i in this.players)if(this.players.hasOwnProperty(i)){let a=this.players[i];n=t.offsetX||t.layerX,o=t.offsetY||t.layerY,a.action&&a.action(e,n,o,t)}}else for(let i in this.players)if(this.players.hasOwnProperty(i)){let a=this.players[i],l=t.changedTouches&&0<t.changedTouches.length,r=t.changedTouches.item(0),s=this._canvas.getBoundingClientRect();n=l?r.clientX-s.left:0,o=l?r.clientY-s.top:0,a.action&&a.action(e,n,o,t)}e&&(this._pointer.to(n,o),this._pointer.id=e)}_mouseDown(e){return this._mouseAction('down',e),this._pressed=!0,!1}_mouseUp(e){return this._mouseAction('up',e),this._dragged&&this._mouseAction('drop',e),this._pressed=!1,this._dragged=!1,!1}_mouseMove(e){return this._mouseAction('move',e),this._pressed&&(this._dragged=!0,this._mouseAction('drag',e)),!1}_mouseOver(e){return this._mouseAction('over',e),!1}_mouseOut(e){return this._mouseAction('out',e),this._dragged&&this._mouseAction('drop',e),this._dragged=!1,!1}_touchMove(e){return e.preventDefault(),this._mouseMove(e),!1}render(e){return this._renderFunc&&this._renderFunc(e,this),this}set customRendering(e){this._renderFunc=e}get customRendering(){return this._renderFunc}}t.CanvasSpace=u;class d extends i.VisualForm{constructor(e){super(),this._ready=!1,this._style={fillStyle:'#f03',strokeStyle:'#fff',lineWidth:1,lineJoin:'bevel',lineCap:'butt'},this._font=new i.Font(14,'sans-serif'),this._space=e,this._space.add({start:()=>{this._ctx=this._space.ctx,this._ctx.fillStyle=this._style.fillStyle,this._ctx.strokeStyle=this._style.strokeStyle,this._ctx.lineJoin='bevel',this._ctx.font=this._font.value,this._ready=!0}})}get space(){return this._space}get ready(){return this._ready}useOffscreen(e=!0,t=!1){return t&&this._space.clearOffscreen('string'==typeof t?t:null),this._ctx=this._space.hasOffscreen&&e?this._space.offscreenCtx:this._space.ctx,this}renderOffscreen(e=[0,0]){this._space.hasOffscreen&&this._space.ctx.drawImage(this._space.offscreenCanvas,e[0],e[1],this._space.width,this._space.height)}fill(e){return'boolean'==typeof e?this.filled=e:(this.filled=!0,this._style.fillStyle=e,this._ctx.fillStyle=e),this}fillOnly(e){return this.stroke(!1),this.fill(e)}stroke(e,t,n,o){return'boolean'==typeof e?this.stroked=e:(this.stroked=!0,this._style.strokeStyle=e,this._ctx.strokeStyle=e,t&&(this._ctx.lineWidth=t,this._style.lineWidth=t),n&&(this._ctx.lineJoin=n,this._style.lineJoin=n),o&&(this._ctx.lineCap=o,this._style.lineCap=o)),this}strokeOnly(e,t,n,o){return this.fill(!1),this.stroke(e,t,n,o)}font(e,t,n,o,i){return'number'==typeof e?(this._font.size=e,i&&(this._font.face=i),t&&(this._font.weight=t),n&&(this._font.style=n),o&&(this._font.lineHeight=o),this._ctx.font=this._font.value):this._font=e,this}reset(){for(let e in this._style)this._style.hasOwnProperty(e)&&(this._ctx[e]=this._style[e]);return this._font=new i.Font,this._ctx.font=this._font.value,this}_paint(){this._filled&&this._ctx.fill(),this._stroked&&this._ctx.stroke()}_multiple(e,t,...n){if(!e)return this;for(let o=0,i=e.length;o<i;o++)this[t](e[o],...n);return this}point(e,t=5,n='square'){if(e){if(!d[n])throw new Error(`${n} is not a static function of CanvasForm`);return d[n](this._ctx,e,t),this._paint(),this}}points(e,t=5,n='square'){if(e){for(let o=0,i=e.length;o<i;o++)this.point(e[o],t,n);return this}}static circle(e,t,n=10){t&&(e.beginPath(),e.arc(t[0],t[1],n,0,s.Const.two_pi,!1),e.closePath())}circle(e){return d.circle(this._ctx,e[0],e[1][0]),this._paint(),this}circles(e){return this._multiple(e,'circle')}static arc(e,t,n,o,i,a){t&&(e.beginPath(),e.arc(t[0],t[1],n,o,i,a))}arc(e,t,n,o,i){return d.arc(this._ctx,e,t,n,o,i),this._paint(),this}static square(e,t,n){if(t){let o=t[0]-n,i=t[1]-n,a=t[0]+n,l=t[1]+n;e.beginPath(),e.moveTo(o,i),e.lineTo(o,l),e.lineTo(a,l),e.lineTo(a,i),e.closePath()}}static line(e,t){if(!(2>t.length)){e.beginPath(),e.moveTo(t[0][0],t[0][1]);for(let n=1,o=t.length;n<o;n++)t[n]&&e.lineTo(t[n][0],t[n][1])}}line(e){return d.line(this._ctx,e),this._paint(),this}lines(e){return this._multiple(e,'line')}static polygon(e,t){if(!(2>t.length)){e.beginPath(),e.moveTo(t[0][0],t[0][1]);for(let n=1,o=t.length;n<o;n++)t[n]&&e.lineTo(t[n][0],t[n][1]);e.closePath()}}polygon(e){return d.polygon(this._ctx,e),this._paint(),this}polygons(e){return this._multiple(e,'polygon')}static rect(e,t){2>t.length||(e.beginPath(),e.moveTo(t[0][0],t[0][1]),e.lineTo(t[0][0],t[1][1]),e.lineTo(t[1][0],t[1][1]),e.lineTo(t[1][0],t[0][1]),e.closePath())}rect(e){return d.rect(this._ctx,e),this._paint(),this}rects(e){return this._multiple(e,'rect')}static text(e,t,n,o){t&&e.fillText(n,t[0],t[1],o)}text(e,t,n){return d.text(this._ctx,e,t,n),this}log(e){let t=this._ctx.measureText(e).width+20;return this.stroke(!1).fill('rgba(0,0,0,.4)').rect([[0,0],[t,20]]),this.fill('#fff').text([10,14],e),this}}t.CanvasForm=d},function(t,o,s){'use strict';Object.defineProperty(o,'__esModule',{value:!0});const d=s(0),h=s(1),p=s(3);class m extends d.Pt{constructor(...e){super(...e),this._mode='rgb',this._isNorm=!1}static from(...e){let t=[1,1,1,1],n=h.Util.getArgs(e);for(let o=0,i=t.length;o<i;o++)o<n.length&&(t[o]=n[o]);return new m(t)}static fromHex(e){if('#'==e[0]&&(e=e.substr(1)),3>=e.length){let t=()=>e[1]||'F';e=`${t(0)}${t(0)}${t(1)}${t(1)}${t(2)}${t(2)}`}let t=1;8===e.length&&(t=e.substr(6)&&1,e=e.substring(0,6));let n=parseInt(e,16);return new m(n>>16,255&n>>8,255&n,t)}static rgb(...e){return m.from(...e).toMode('rgb')}static hsl(...e){return m.from(...e).toMode('hsl')}static hsb(...e){return m.from(...e).toMode('hsb')}static lab(...e){return m.from(...e).toMode('lab')}static lch(...e){return m.from(...e).toMode('lch')}static luv(...e){return m.from(...e).toMode('luv')}static xyz(...e){return m.from(...e).toMode('xyz')}static maxValues(e){return m.ranges[e].zipSlice(1).$take([0,1,2])}get hex(){return this.toString('hex')}get rgb(){return this.toString('rgb')}get rgba(){return this.toString('rgba')}clone(){let e=new m(this);return e.toMode(this._mode),e}toMode(e,t=!1){if(t){let t=this._mode.toUpperCase()+'to'+e.toUpperCase();if(m[t])this.to(m[t](this,this._isNorm,this._isNorm));else throw new Error('Cannot convert color with '+t)}return this._mode=e,this}get mode(){return this._mode}get r(){return this[0]}set r(e){this[0]=e}get g(){return this[1]}set g(e){this[1]=e}get b(){return this[1]}set b(e){this[2]=e}get h(){return'lch'==this._mode?this[2]:this[0]}set h(e){let t='lch'==this._mode?2:0;this[t]=e}get s(){return this[1]}set s(e){this[1]=e}get l(){return'hsl'==this._mode?this[2]:this[0]}set l(e){let t='hsl'==this._mode?2:0;this[t]=e}get a(){return this[1]}set a(e){this[1]=e}get c(){return this[1]}set c(e){this[1]=e}get u(){return this[1]}set u(e){this[1]=e}get v(){return this[1]}set v(e){this[2]=e}get alpha(){return 3<this.length?this[3]:1}normalize(e=!0){if(this._isNorm==e)return this;let t=m.ranges[this._mode];for(let n=0;3>n;n++)this[n]=e?p.Num.mapToRange(this[n],t[n][0],t[n][1],0,1):p.Num.mapToRange(this[n],0,1,t[n][0],t[n][1]);return this._isNorm=e,this}$normalize(e=!0){return this.clone().normalize(e)}toString(e='mode'){if('hex'==e){let e=(e)=>{let t=a(e).toString(16);return 2>t.length?'0'+t:t};return`#${e(this[0])}${e(this[1])}${e(this[2])}`}return'rgba'==e?`rgba(${a(this[0])},${a(this[1])},${a(this[2])},${this.alpha}`:'rgb'==e?`rgb(${a(this[0])},${a(this[1])},${a(this[2])}`:`${this._mode}(${this[0]},${this[1]},${this[2]},${this.alpha})`}static RGBtoHSL(e,t=!1,n=!1){let[o,i,a]=t?e:e.$normalize(),r=u(o,i,a),p=_(o,i,a),c=(r+p)/2,h=c,s=c;if(r==p)c=0,h=0;else{let e=r-p;h=0.5<s?e/(2-r-p):e/(r+p),c=0,r===o?c=(i-a)/e+(i<a?6:0):r===i?c=(a-o)/e+2:r===a&&(c=(o-i)/e+4)}return m.hsl(n?c/60:60*c,h,s,e.alpha)}static HSLtoRGB(e,t=!1,n=!1){let[o,i,a]=e;if(t||(o/=360),0==i)return m.rgb(255*a,255*a,255*a,e.alpha);let l=0.5>=a?a*(1+i):a+i-a*i,r=2*a-l,s=(e)=>{return e=0>e?e+1:1<e?e-1:e,1>6*e?r+6*((l-r)*e):1>2*e?l:2>3*e?r+6*((l-r)*(2/3-e)):r},u=n?1:255;return m.rgb(u*s(o+1/3),u*s(o),u*s(o-1/3),e.alpha)}static RGBtoHSB(e,t=!1,n=!1){let[o,i,a]=t?e:e.$normalize(),l=u(o,i,a),r=_(o,i,a),p=l-r,d=0,c=0===l?0:p/l;return l!=r&&(l===o?d=(i-a)/p+(i<a?6:0):l===i?d=(a-o)/p+2:l===a&&(d=(o-i)/p+4)),m.hsb(n?d/60:60*d,c,l,e.alpha)}static HSBtoRGB(e,n=!1,o=!1){let[l,r,s]=e;n||(l/=360);let u=a(6*l),i=6*l-u,d=s*(1-r),p=s*(1-i*r),_=s*(1-(1-i)*r),t=[[s,_,d],[p,s,d],[d,s,_],[d,p,s],[_,d,s],[s,d,p]][u%6],c=o?1:255;return m.rgb(c*t[0],c*t[1],c*t[2],e.alpha)}static RGBtoLAB(e,t=!1,n=!1){let o=t?e.$normalize(!1):e;return m.XYZtoLAB(m.RGBtoXYZ(o),!1,n)}static LABtoRGB(e,t=!1,n=!1){let o=t?e.$normalize(!1):e;return m.XYZtoRGB(m.LABtoXYZ(o),!1,n)}static RGBtoLCH(e,t=!1,n=!1){let o=t?e.$normalize(!1):e;return m.LABtoLCH(m.RGBtoLAB(o),!1,n)}static LCHtoRGB(e,t=!1,n=!1){let o=t?e.$normalize(!1):e;return m.LABtoRGB(m.LCHtoLAB(o),!1,n)}static RGBtoLUV(e,t=!1,n=!1){let o=t?e.$normalize(!1):e;return m.XYZtoLUV(m.RGBtoXYZ(o),!1,n)}static LUVtoRGB(e,t=!1,n=!1){let o=t?e.$normalize(!1):e;return m.XYZtoRGB(m.LUVtoXYZ(o),!1,n)}static RGBtoXYZ(t,n=!1,o=!1){let a=n?t.clone():t.$normalize();for(let l=0;3>l;l++)a[l]=0.04045<a[l]?e((a[l]+0.055)/1.055,2.4):a[l]/12.92,o||(a[l]*=100);let i=m.xyz(0.4124564*a[0]+0.3575761*a[1]+0.1804375*a[2],0.2126729*a[0]+0.7151522*a[1]+0.072175*a[2],0.0193339*a[0]+0.119192*a[1]+0.9503041*a[2],t.alpha);return o?i.normalize():i}static XYZtoRGB(t,n=!1,o=!1){let[i,a,l]=n?t:t.$normalize(),r=[3.2404542*i+-1.5371385*a+-0.4985314*l,-0.969266*i+1.8760108*a+0.041556*l,0.0556434*i+-0.2040259*a+1.0572252*l];for(let a=0;3>a;a++)r[a]=0>r[a]?0:0.0031308<r[a]?1.055*e(r[a],1/2.4)-0.055:12.92*r[a],r[a]=u(0,_(1,r[a])),o||(r[a]=Math.round(255*r[a]));let s=m.rgb(r[0],r[1],r[2],t.alpha);return o?s.normalize():s}static XYZtoLAB(t,n=!1,o=!1){let i=n?t.$normalize(!1):t.clone();i.divide(m.D65);let a=(t)=>0.008856<t?e(t,1/3):7.787*t+16/116,l=a(i[1]),r=m.lab(116*l-16,500*(a(i[0])-l),200*(l-a(i[2])),t.alpha);return o?r.normalize():r}static LABtoXYZ(e,t=!1,n=!1){let o=t?e.$normalize(!1):e,i=(o[0]+16)/116,a=o[1]/500+i,l=i-o[2]/200,r=(e)=>{let t=e*e*e;return 0.008856<t?t:(e-16/116)/7.787},s=m.D65,d=m.xyz(u(0,s[0]*r(a)),u(0,s[1]*r(i)),u(0,s[2]*r(l)),e.alpha);return n?d.normalize():d}static XYZtoLUV(t,n=!1,o=!1){let[i,a,l]=n?t.$normalize(!1):t,r=4*i/(i+15*a+3*l),s=9*a/(i+15*a+3*l);a/=100,a=0.008856<a?e(a,1/3):7.787*a+16/116;let u=4*m.D65[0]/(m.D65[0]+15*m.D65[1]+3*m.D65[2]),d=9*m.D65[1]/(m.D65[0]+15*m.D65[1]+3*m.D65[2]),p=116*a-16;return m.luv(p,13*p*(r-u),13*p*(s-d),t.alpha)}static LUVtoXYZ(e,t=!1,n=!1){let[o,i,a]=t?e.$normalize(!1):e,l=(o+16)/116,r=l*l*l;l=0.008856<r?r:(l-16/116)/7.787;let s=4*m.D65[0]/(m.D65[0]+15*m.D65[1]+3*m.D65[2]),u=9*m.D65[1]/(m.D65[0]+15*m.D65[1]+3*m.D65[2]);i=i/(13*o)+s,a=a/(13*o)+u,l*=100;let d=-1*(9*l*i)/((i-4)*a-i*a),p=(9*l-15*a*l-a*d)/(3*a);return m.xyz(d,l,p,e.alpha)}static LABtoLCH(e,t=!1,o=!1){let a=t?e.$normalize(!1):e,l=p.Geom.toDegree(p.Geom.boundRadian(i(a[2],a[1])));return m.lch(a[0],n(a[1]*a[1]+a[2]*a[2]),l,e.alpha)}static LCHtoLAB(e,t=!1,n=!1){let o=t?e.$normalize(!1):e,i=p.Geom.toRadian(o[2]);return m.lab(o[0],r(i)*o[1],l(i)*o[1],e.alpha)}}m.D65=new d.Pt(95.047,100,108.883,1),m.ranges={rgb:new d.Group(new d.Pt(0,255),new d.Pt(0,255),new d.Pt(0,255)),hsl:new d.Group(new d.Pt(0,360),new d.Pt(0,1),new d.Pt(0,1)),hsb:new d.Group(new d.Pt(0,360),new d.Pt(0,1),new d.Pt(0,1)),lab:new d.Group(new d.Pt(0,100),new d.Pt(-128,127),new d.Pt(-128,127)),lch:new d.Group(new d.Pt(0,100),new d.Pt(0,100),new d.Pt(0,360)),luv:new d.Group(new d.Pt(0,100),new d.Pt(-134,220),new d.Pt(-140,122)),xyz:new d.Group(new d.Pt(0,100),new d.Pt(0,100),new d.Pt(0,100))},o.Color=m},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),l=n(1);t.Create=class{static distributeRandom(e,t,n=2){let a=new o.Group;for(let l,r=0;r<t;r++)l=[e.x+Math.random()*e.width],1<n&&l.push(e.y+Math.random()*e.height),2<n&&l.push(e.z+Math.random()*e.depth),a.push(new o.Pt(l));return a}static gridPts(e,t,n,i=[0.5,0.5]){if(0===t||0===n)throw new Error('grid columns and rows cannot be 0');let a=e.size.$subtract(1).$divide(t,n),l=a.$multiply(i),s=new o.Group;for(let o=0;o<t;o++)for(let t=0;t<n;t++)s.push(e.topLeft.$add(a.$multiply(o,t)).add(l));return s}static gridCells(e,t,n){if(0===t||0===n)throw new Error('grid columns and rows cannot be 0');let i=e.size.$subtract(1).divide(t,n),a=[];for(let l=0;l<t;l++)for(let t=0;t<n;t++)a.push(new o.Group(e.topLeft.$add(i.$multiply(l,t)),e.topLeft.$add(i.$multiply(l,t).add(i))));return a}static radialPts(e,t,n){let r=new o.Group,s=l.Const.two_pi/n;for(let a=0;a<n;a++)r.push(new o.Pt(e).toAngle(s*a-l.Const.half_pi,t,!0));return r}}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(4),i=n(8),a=n(10),l=n(6),r=n(2),s=n(3),u=n(5),d=n(0),p=n(7),c=n(9),_=n(1);e.exports=Object.assign({namespace:(t)=>{let n=e.exports;for(let e in n)'namespace'!=e&&(t[e]=n[e])}},o,i,a,l,r,u,s,d,p,_,c)}])});
